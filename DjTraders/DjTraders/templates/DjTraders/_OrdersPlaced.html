<!-- When using partials, we DO NOT want to extend the base.html -->
{% comment %} {% extends "base.html" %} {% endcomment %}

<!-- define the block content to be injected -->

{% block content %}

<div class="container" id="Orders">
	<h5 class="">
		{{customer}}  placed 
		{{customer.NumberOfOrders}} Orders 
	</h5>
	<div class="" >
		<div class="accordion" id="orderAccordion">
			{% for order in customer.CustomerOrders %}
			<div class="accordion-item">
				<h2 class="accordion-header" id="heading{{ forloop.counter }}">
					<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ forloop.counter }}" aria-expanded="true" aria-controls="collapse{{ forloop.counter }}">
						{{ forloop.counter }}. Order ID: {{ order.order_id }} placed on {{ order.order_date }}
					</button>
				</h2>
				<div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#orderAccordion">
					<div class="accordion-body">
						<table class="table table-hover">
							<thead>
								<tr>
									<th>Name</th>
									<th>Qty</th>
									<th class="text-end pe-2">Price</th>
									<th class="text-end pe-2">Total</th>
								</tr>
							</thead>
							<tbody>
								{% for anOrderDetail in order.AllOrderDetails %}
								<tr>
									<td>{{ anOrderDetail.product.product_name }}</td>
									<td>{{ anOrderDetail.quantity }}</td>
									<td class="text-end pe-1">${{ anOrderDetail.product.price }}</td>
									<td class="text-end pe-1">${{ anOrderDetail.Total }}</td>
								</tr>
								{% endfor %}
								<tr>
									<td colspan="3" class="text-end pe-2"><strong>Order Total</strong></td>
									<td class="text-end pe-2"><strong>${{ order.OrderTotal }}</strong></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
</div>

<script type="text/javascript">

	$(document).ready(function ()
    {
    });


</script>
{% endblock %}